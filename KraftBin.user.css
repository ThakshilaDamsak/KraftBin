/* ==UserStyle==
@name         KraftBin
@version      2.2.2
@namespace    ThakshilaDamsak
@description  Cleaner and familiar look for Kbin. Derived from Randdose's KoolBin 
@author       ThakshilaDamsak <thakshiladamsak@hotmail.com> (https://thakshiladamsak.github.io)
@homepageURL  https://github.com/ThakshilaDamsak/KraftBin
@supportURL   https://github.com/ThakshilaDamsak/KraftBin/issues/new
@license      GPL v3
@preprocessor default

@var select KraftBin-shadow "Extra Shadows" {
 "Enabled": "0px 5px 25px 0px rgba(0, 0, 0, .11)",
 "Disabled": "none",
  }

@var select alertToggle "Federated Warnings" {
 "Enabled": "block",
 "Disabled": "none",
  }

@var select sidebarToggle "Sidebar" {
 "Show": "block",
 "Hide": "none",
  }

@var select containerRatio-sidebar "Sidebar Size" {
 "Small": "350px",
 "Medium": "450px",
 "Large": "550px",
 "Custom": "var(--containerRatio-sidebar-custom, 650px)",
  }

@var text containerRatio-sidebar-custom "Custom Sidebar Size" "650px"

@var select magazinesToggle "Random Magazines" {
 "Show": "block",
 "Hide": "none",
  }

@var select activeUsersToggle "Active Users" {
 "Show": "block",
 "Hide": "none",
  }

@var select randomPostsToggle "Random Posts" {
 "Show": "block",
 "Hide": "none",
  }

@var select randomThreadsToggle "Random Threads" {
 "Show": "block",
 "Hide": "none",
  }

@var select kbinPromo-display "Kbin Promotion" {
 "Show": "block",
 "Hide": "none",
  }

@var select scrolltopToggle "Scroll-to-top Button" {
 "Show": "100%",
 "Hide": "0%",
  }

@var select marginsToggle "Margins on Sides (For large screens)" {
 "Default": "5%",
 "Large": "10%",
 "Larger": "15%",
 "Custom": "var(--marginsToggle-custom, none)",
 "Disabled": "none",
  }

@var text marginsToggle-custom "Custom Side Margin Size" "10%"

@var select containerMaxwidth "Website Maximum Width (For large screens)" {
 "Kbin Default": "1360px",
 "Reddit-like": "1000px",
 "Full Width": "auto",
 "Custom": "var(--containerMaxwidth-custom, none)",
  }

@var text containerMaxwidth-custom "Custom Maximum Width" "1500px"

==/UserStyle== */
@-moz-document url-prefix("https://kbin.social"),
url-prefix("https://karab.in"),
url-prefix("https://fedia.io") {
	/*Page*/
	html {
		scroll-behavior: smooth;
	}

	a,
	p {
		transition: 0.2s;
	}

	#scroll-top {
		box-shadow: 0px 2px 10px 0px rgba(0, 0, 0, .26);
		border: solid;
		border-width: 1px;
		border-color: #6a6a6a8a;
		border-radius: 8px;
		transition: 0.2s;
	}

	#middle {
		top: 0px;
		margin-right: var(--marginsToggle);
		margin-left: var(--marginsToggle);
		transition: 0.2s;
	}

	@media screen and (max-width: 1200px) {
		#middle {
			margin-right: 0;
			margin-left: 0;
		}
	}

	@media screen and (max-width: 760px) {
		.meta {
			grid-area: desc;
		}
		.entry footer {
			grid-area: meta;
			margin: auto;
			margin-left: 10px;
		}
	}

	@media screen and (max-width: 990px) {
		#sidebar {
			width: auto !important;
		}
	}

	footer {
		text-align: center;
	}


	#middle .kbin-container {
		grid-template-columns: 1fr 0fr;
		justify-content: center;
	}

	.kbin-container {
		transition: 0.2s;
		max-width: var(--containerMaxwidth);
	}

	/*Headerbar*/
	#header {
		position: sticky;
		top: 0;
		backdrop-filter: blur(8px);
		transition: 0.2s;
	}

	/*LOL*/
	header#header.header a.active {
		background: transparent;
	}

	/*Drop down menus*/
	#header menu .dropdown__menu {
		left: unset;
		backdrop-filter: blur(20px) saturate(3) contrast(0.8);
		transition: 0.2s;
		box-shadow: 0px 5px 25px 0px rgba(0, 0, 0, .3);
	}

	menu {
		transition: 0.2s;
	}

	.dropdown__menu {
		box-shadow: 0px 5px 25px 0px rgba(0, 0, 0, .3);
	}

	/*Optionbar*/
	.options--top {
		border-radius: 5px;
		box-shadow: var(--KraftBin-shadow) !important;
		transition: 0.2s;
	}

	.options {
		box-shadow: var(--KraftBin-shadow) !important;
		transition: 0.2s;
	}

	.section {
		box-shadow: var(--KraftBin-shadow) !important;
	}

	#sidebar {
		display: var(--sidebarToggle);
		width: var(--containerRatio-sidebar);
		transition: 0.2s;
	}

	img {
		box-shadow: var(--KraftBin-shadow) !important;
	}

	.thumb-subject {
		box-shadow: none !important;
	}

	.kbin-promo {
		box-shadow: none !important;
		display: var(--kbinPromo-display) !important;
	}

	.section--no-bg {
		box-shadow: none !important;
	}

	.related-magazines {
		display: var(--magazinesToggle);
	}

	.active-users {
		display: var(--activeUsersToggle);
	}

	.posts {
		display: var(--randomPostsToggle);
	}

	.entries {
		display: var(--randomThreadsToggle);
	}

	.user-name {
		margin: auto;
		margin-top: 15px;
		font-weight: 500;
	}
	.popover {
		transition: 0.2s;
	}

	.alert__info {
		display: var(--alertToggle);
	}

	#scroll-top {
		scale: var(--scrolltopToggle);
	}

	article {
		padding: 0px !important;
	}
}

@-moz-document url-prefix("https://kbin.social"),
url-prefix("https://karab.in"),
url-prefix("https://fedia.io") {
	/*Posts*/
	.entry {
		grid-template-areas: "vote title title" "vote image image" "vote image image" "vote desc desc  " "vote meta footer" "body body  body ";
		padding: 5px;
		border-radius: 5px;
		box-shadow: var(--KraftBin-shadow) !important;
		transition: 0.2s;
	}

	.no-image-placeholder {
		display: none;
	}

	/*Post image wrapper*/
	.entry figure {
		display: flex;
		justify-content: center;
		width: unset;
		height: unset;
		position: unset;
		margin: unset;
	}

	/*Post Image*/
	.entry .no-image-placeholder img,
	.entry figure img {
		max-height: 400px;
		object-fit: unset;
		position: unset;
		height: unset;
		border-radius: 5px;
	}

	.entry .no-image-placeholder,
	.entry figure {
		justify-self: center;
		border-radius: 5px;
		margin: 10px;
	}

	.entry .no-image-placeholder .image-filler,
	.entry figure .image-filler {
		width: unset;
		height: unset;
		background-position: unset;
		top: unset;
		left: unset;
		right: unset;
	}

	/*Placeholder for posts with no image*/
	.entry .no-image-placeholder {
		width: 200px;
		height: 200px;
	}

	/*User and magazine info*/
	.entry .meta {
		width: max-content;
		align-self: unset;
		margin: 10px;
		margin-left: 10px;
		grid-area: footer;
	}

	/*Short description*/
	.entry .short-desc {
		grid-area: desc;
	}

	/*Contains options like: comments, boost, report, etc*/
	.entry footer {
		margin: auto;
		margin-right: 20px;
		transition: 0.2s;
	}

	.preview img {
		box-shadow: var(--KraftBin-shadow) !important;
		transition: 0.2s;
	}
}

@-moz-document url-prefix("https://kbin.social"),
url-prefix("https://karab.in"),
url-prefix("https://fedia.io") {
	/*Vote*/
	/*Vote wrapper*/
	.vote {
		gap: 0;
		transition: 0.2s;
	}

	aside.vote {
		gap: 5px !important;
		padding: 10px;
		background: #a3a3a314;
		margin: 0px !important;
		border-radius: 5px;
		border: 1px;
	}

	/*Vote buttons*/
	.vote button {
		border: 1px;
		transition: 0.2s;
		box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, .05);
		background: var(--kbin-body-bg);
		border: solid;
		border-width: 1px;
		border-color: #89898921;
	}

	.post .vote,
	.comment .vote {
		background: #00800000;
		padding: 0px !important;
	}

	.comment .vote button,
	.post .vote button {
		background: var(--kbin-bg-nth);
		margin-top: 5px;
		height: 25px;
		box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, .05);
	}


	/*Upvote*/
	.vote .vote__up button {
		border-radius: 5px;
	}

	.vote .active.vote__up button {
		border-color: var(--kbin-success-color);
	}

	/*Downvote*/
	.vote .vote__down button {
		border-radius: 5px;
	}

	.vote .active.vote__down button {
		border-color: var(--kbin-danger-color);
	}
}

@-moz-document url-prefix("https://kbin.social"),
url-prefix("https://karab.in"),
url-prefix("https://fedia.io") {
	/*Magazine*/
	#sidebar .section figure img {
		aspect-ratio: auto;
		border-radius: 10px;
		box-shadow: var(--KraftBin-shadow) !important;
	}

	.btn[title="block_magazine"],
	aside.user__follow > form[name*="block"] .btn {
		border-radius: 0 5px 5px 0;
	}

	.magazine__subscribe div,
	.user__follow div {
		border-radius: 5px 0 0 5px;
	}

	aside.magazine__subscribe > form[name*="subscribe"] .btn,
	aside.user__follow > form[name*="follow"] .btn {
		border-radius: 0;
	}
}

@-moz-document url-prefix("https://kbin.social"),
url-prefix("https://karab.in"),
url-prefix("https://fedia.io") {
	/*Components*/
	.section,
	.btn,
	select,
	textarea {
		border-radius: 5px;
	}

	.btn {
		cursor: pointer;
		transition: 0.2s;
	}

	.formatted {
		margin-left: 70px;
	}
}

@-moz-document url-prefix("https://kbin.social/search"),
url-prefix("https://kbin.social/magazines"),
url-prefix("https://karab.in/search"),
url-prefix("https://karab.in/magazines"),
url-prefix("https://fedia.io/search"),
url-prefix("https://fedia.io/magazines") {
	/*Search page*/
	.flex {
		gap: 5px;
		justify-content: space-evenly;
		transition: 0.2s;
	}

	form[method="get"] input {
		border-radius: 5px 0 0 5px;
		outline: none !important;
		transition: 0.2s;
	}

	form[method="get"] input:focus {
		border: var(--kbin-button-primary-hover-bg) solid 2px;
		transition: 0.2s;
	}

	form[method="get"] input:focus + .btn {
		border: var(--kbin-button-primary-hover-bg) solid 2px;
		border-left: none;
		transition: 0.2s;
	}

	form[method="get"] .btn {
		border-radius: 0 5px 5px 0;
		transition: 0.2s;
	}
}
